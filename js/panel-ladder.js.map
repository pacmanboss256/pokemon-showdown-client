{"version":3,"sources":["../src/panel-ladder.tsx"],"names":["LadderRoom","classType","format","id","split","searchValue","lastSearch","loading","setNotice","notice","update","setSearchValue","setLastSearch","setLoading","setError","error","message","setLadderData","ladderData","requestLadderData","PS","teams","usesLocalLadder","send","toID","undefined","Net","get","query","server","output","prefix","then","PSRoom","LadderFormat","props","room","changeSearch","e","currentTarget","value","submitSearch","preventDefault","RenderHeader","BattleLog","escapeFormat","escapeHTML","RenderSearch","RenderFormat","BattleFormats","LadderPanel","componentDidMount","subscriptions","push","subscribe","response","Error","forceUpdate","render","PSRoomPanel","Notice","BattleFormatList","currentSection","sections","formats","Object","entries","key","rated","searchShow","section","length","ShowFormatList","Config","routes","users","roomTypes","Model","Component","updateRoomTypes"],"mappings":"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","sourcesContent":["/**\r\n * Ladder Panel\r\n *\r\n * Panel for ladder formats and associated ladder tables.\r\n *\r\n * @author Adam Tran <aviettran@gmail.com>\r\n * @license MIT\r\n */\r\n\r\nclass LadderRoom extends PSRoom {\r\n\treadonly classType: string = 'ladder';\r\n\treadonly format?: string = this.id.split('-')[1];\r\n\tnotice?: string;\r\n\tsearchValue: string = '';\r\n\tlastSearch: string = '';\r\n\tloading: boolean = false;\r\n\terror?: string;\r\n\tladderData?: string;\r\n\r\n\tsetNotice = (notice: string) => {\r\n\t\tthis.notice = notice;\r\n\t\tthis.update(null);\r\n\t};\r\n\tsetSearchValue = (searchValue: string) => {\r\n\t\tthis.searchValue = searchValue;\r\n\t\tthis.update(null);\r\n\t};\r\n\tsetLastSearch = (lastSearch: string) => {\r\n\t\tthis.lastSearch = lastSearch;\r\n\t\tthis.update(null);\r\n\t};\r\n\tsetLoading = (loading: boolean) => {\r\n\t\tthis.loading = loading;\r\n\t\tthis.update(null);\r\n\t};\r\n\tsetError = (error: Error) => {\r\n\t\tthis.loading = false;\r\n\t\tthis.error = error.message;\r\n\t\tthis.update(null);\r\n\t};\r\n\tsetLadderData = (ladderData: string | undefined) => {\r\n\t\tthis.loading = false;\r\n\t\tthis.ladderData = ladderData;\r\n\t\tthis.update(null);\r\n\t};\r\n\trequestLadderData = (searchValue?: string) => {\r\n\t\tconst { teams } = PS;\r\n\t\tif (teams.usesLocalLadder) {\r\n\t\t\tthis.send(`/cmd laddertop ${this.format} ${toID(this.searchValue)}`);\r\n\t\t} else if (this.format !== undefined) {\r\n\t\t\tNet('/ladder.php')\r\n\t\t\t\t.get({\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\tformat: this.format,\r\n\t\t\t\t\t\tserver: PS.server.id,\r\n\t\t\t\t\t\toutput: 'html',\r\n\t\t\t\t\t\tprefix: toID(searchValue),\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(this.setLadderData)\r\n\t\t\t\t.catch(this.setError);\r\n\t\t}\r\n\t\tthis.setLoading(true);\r\n\t};\r\n}\r\n\r\nfunction LadderFormat(props: {room: LadderRoom}) {\r\n\tconst {room} = props;\r\n\tconst {\r\n\t\tformat, searchValue, lastSearch, loading, error, ladderData,\r\n\t\tsetSearchValue, setLastSearch, requestLadderData,\r\n\t} = room;\r\n\tif (format === undefined) return null;\r\n\r\n\tconst changeSearch = (e: Event) => {\r\n\t\tsetSearchValue((e.currentTarget as HTMLInputElement).value);\r\n\t};\r\n\tconst submitSearch = (e: Event) => {\r\n\t\te.preventDefault();\r\n\t\tsetLastSearch(room.searchValue);\r\n\t\trequestLadderData(room.searchValue);\r\n\t};\r\n\tconst RenderHeader = () => {\r\n\t\tif (!PS.teams.usesLocalLadder) {\r\n\t\t\treturn <h3>\r\n\t\t\t\t{BattleLog.escapeFormat(format)} Top{\" \"}\r\n\t\t\t\t{BattleLog.escapeHTML(lastSearch ? `- '${lastSearch}'` : \"500\")}\r\n\t\t\t</h3>;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tconst RenderSearch = () => {\r\n\t\tif (!PS.teams.usesLocalLadder) {\r\n\t\t\treturn <form class=\"search\" onSubmit={submitSearch}>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tname=\"searchValue\"\r\n\t\t\t\t\tclass=\"textbox searchinput\"\r\n\t\t\t\t\tvalue={BattleLog.escapeHTML(searchValue)}\r\n\t\t\t\t\tplaceholder=\"username prefix\"\r\n\t\t\t\t\tonChange={changeSearch}\r\n\t\t\t\t/>\r\n\t\t\t\t<button type=\"submit\"> Search</button>\r\n\t\t\t</form>;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tconst RenderFormat = () => {\r\n\t\tif (loading || !BattleFormats) {\r\n\t\t\treturn <p>Loading...</p>;\r\n\t\t} else if (error !== undefined) {\r\n\t\t\treturn <p>Error: {error}</p>;\r\n\t\t} else if (BattleFormats[format] === undefined) {\r\n\t\t\treturn <p>Format {format} not found.</p>;\r\n\t\t} else if (ladderData === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn <>\r\n\t\t\t<p>\r\n\t\t\t\t<button class=\"button\" data-href=\"ladder\" data-target=\"replace\" >\r\n\t\t\t\t\t<i class=\"fa fa-refresh\"></i> Refresh\r\n\t\t\t\t</button>\r\n\t\t\t\t<RenderSearch/>\r\n\t\t\t</p>\r\n\t\t\t<RenderHeader/>\r\n\t\t\t<SanitizedHTML>{ladderData}</SanitizedHTML>\r\n\t\t</>;\r\n\t};\r\n\treturn <div class=\"ladder pad\">\r\n\t\t<p>\r\n\t\t<button class=\"button\" data-href=\"ladder\" data-target=\"replace\">\r\n\t\t\t\t<i class=\"fa fa-chevron-left\"></i> Format List\r\n\t\t\t</button>\r\n\t\t</p>\r\n\t\t<RenderFormat />\r\n\t</div>;\r\n}\r\n\r\nclass LadderPanel extends PSRoomPanel<LadderRoom> {\r\n\tcomponentDidMount() {\r\n\t\tconst {room} = this.props;\r\n\t\t// Request ladder data either on mount or after BattleFormats are loaded\r\n\t\tif (BattleFormats && room.format !== undefined) room.requestLadderData();\r\n\t\tthis.subscriptions.push(\r\n\t\t\troom.subscribe((response: any) => {\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tconst [format, ladderData] = response;\r\n\t\t\t\t\tif (room.format === format) {\r\n\t\t\t\t\t\tif (!ladderData) {\r\n\t\t\t\t\t\t\troom.setError(new Error('No data returned from server.'));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\troom.setLadderData(ladderData);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.forceUpdate();\r\n\t\t\t})\r\n\t\t);\r\n\t\tthis.subscriptions.push(\r\n\t\t\tPS.teams.subscribe(() => {\r\n\t\t\t\tif (room.format !== undefined) room.requestLadderData();\r\n\t\t\t\tthis.forceUpdate();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\tstatic Notice = (props: {notice: string | undefined}) => {\r\n\t\tconst {notice} = props;\r\n\t\tif (notice) {\r\n\t\t\treturn (\r\n\t\t\t\t<p>\r\n\t\t\t\t\t<strong style=\"color:red\">{notice}</strong>\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\tstatic BattleFormatList = () => {\r\n\t\tif (!BattleFormats) {\r\n\t\t\treturn <p>Loading...</p>;\r\n\t\t}\r\n\t\tlet currentSection: string = \"\";\r\n\t\tlet sections: JSX.Element[] = [];\r\n\t\tlet formats: JSX.Element[] = [];\r\n\t\tfor (const [key, format] of Object.entries(BattleFormats)) {\r\n\t\t\tif (!format.rated || !format.searchShow) continue;\r\n\t\t\tif (format.section !== currentSection) {\r\n\t\t\t\tif (formats.length > 0) {\r\n\t\t\t\t\tsections.push(<preact.Fragment key={currentSection}>\r\n\t\t\t\t\t\t<h3>{currentSection}</h3>\r\n\t\t\t\t\t\t<ul style=\"list-style:none;margin:0;padding:0\">\r\n\t\t\t\t\t\t\t{formats}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</preact.Fragment>);\r\n\t\t\t\t\tformats = [];\r\n\t\t\t\t}\r\n\t\t\t\tcurrentSection = format.section;\r\n\t\t\t}\r\n\t\t\tformats.push(\r\n\t\t\t\t<li key={key} style=\"margin:5px\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tname=\"joinRoom\"\r\n\t\t\t\t\t\tvalue={`ladder-${key}`}\r\n\t\t\t\t\t\tclass=\"button\"\r\n\t\t\t\t\t\tstyle=\"width:320px;height:30px;text-align:left;font:12pt Verdana\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{BattleLog.escapeFormat(format.id)}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</li>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn <>{sections}</>;\r\n\t};\r\n\tstatic ShowFormatList = (props: {room: LadderRoom}) => {\r\n\t\tconst {room} = props;\r\n\t\treturn <>\r\n\t\t\t<p>\r\n\t\t\t\t<a class=\"button\" href={`/${Config.routes.users}/`} target=\"_blank\">\r\n\t\t\t\t\tLook up a specific user's rating\r\n\t\t\t\t</a>\r\n\t\t\t</p>\r\n\t\t\t<LadderPanel.Notice notice={room.notice} />\r\n\t\t\t<p>\r\n\t\t\t\t<button name=\"joinRoom\" value=\"view-ladderhelp\" class=\"button\">\r\n\t\t\t\t\t<i class=\"fa fa-info-circle\"></i> How the ladder works\r\n\t\t\t\t</button>\r\n\t\t\t</p>\r\n\t\t\t<LadderPanel.BattleFormatList />\r\n\t\t</>;\r\n\t};\r\n\trender() {\r\n\t\tconst {room} = this.props;\r\n\t\treturn <PSPanelWrapper room={room} scrollable>\r\n\t\t\t<div class=\"ladder pad\">\r\n\t\t\t\t{room.format === undefined && (\r\n\t\t\t\t\t<LadderPanel.ShowFormatList room={room} />\r\n\t\t\t\t)}\r\n\t\t\t\t{room.format !== undefined && <LadderFormat room={room} />}\r\n\t\t\t</div>\r\n\t\t</PSPanelWrapper>;\r\n\t}\r\n}\r\n\r\nPS.roomTypes['ladder'] = {\r\n\tModel: LadderRoom,\r\n\tComponent: LadderPanel,\r\n};\r\nPS.updateRoomTypes();\r\n"],"file":"panel-ladder.js"}